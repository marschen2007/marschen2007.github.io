extends ../_partial/layout

block content
  .container
    - const postsByYear = {};
    - // 按年份將文章分組
    - for (let i = 0; i < site.posts.data.length; i++) {
    -   const post = site.posts.data[i];
    -   if (!page.year || post.date.year() === page.year) {
    -     const year = post.date.year();
    -     if (!postsByYear[year]) {
    -       postsByYear[year] = [];
    -     }
    -     postsByYear[year].push(post);
    -   }
    - }
    - // 按年份倒序排序並返回結果
    - const sortedYears = Object.keys(postsByYear).sort((a, b) => b - a);
    - const sortedPosts = sortedYears.map(year => [year, postsByYear[year]]);
    each group in sortedPosts
      .year-wrap
        h2.year= group[0]
        ul.year-list
          each post in group[1]
            li.year-item
              span.date= moment(post.date).format('MM-DD')
              a(href=url_for(post.path))= post.title || '未命名文章'
